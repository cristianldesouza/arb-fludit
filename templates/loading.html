<!DOCTYPE html>
<html lang="pt-BR">
    <head>
        <meta charset="UTF-8">
        <title>{title}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
        /* Estilos do Preloader */
        #custom-preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #1a202b; /* Fundo escuro */
            opacity: 1; /* Opacidade 100% */
            z-index: 9999;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #ffffff;
            font-size: 1.2em;
            text-align: center;
            font-family: sans-serif; /* Fonte padrão do dispositivo */
            font-weight: bold;
            padding: 20px; /* Padding geral */
            box-sizing: border-box; /* Inclui padding no cálculo de largura */
        }

        /* Barra de progresso */
        #progress-bar-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 6px;
            background-color: #e0e0e0;
            overflow: hidden;
        }

        #progress-bar {
            width: 0%;
            height: 100%;
            background-color: var(--Theme); /* Cor para a barra de progresso */
            transition: width 1.5s linear; /* 1.5s para totalDuration=1.5s */
        }

        /* Container das mensagens */
        #message-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 20px;
            min-height: 100px;
            transition: opacity 0.5s ease-in-out;
            opacity: 0;
            max-width: 90%; /* Limita a largura para evitar estouro em telas pequenas */
        }

        /* Badge "Site Seguro" */
        #secure-badge {
            position: fixed;
            bottom: 20px;
            display: flex;
            align-items: center;
            background-color: var(--Theme); /* Cor para transmitir segurança */
            color: #ffffff;
            padding: 10px 20px;
            border-radius: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-size: 1em;
            font-weight: bold;
            z-index: 10000;
            max-width: 90%; /* Limita a largura para evitar estouro em telas pequenas */
        }

        #secure-badge svg {
            width: 1.5em;
            height: 1.5em;
            margin-right: 10px;
            fill: #ffffff; /* Define a cor do ícone */
        }

        /* Responsividade */
        @media (max-width: 600px) {
            #custom-preloader {
                padding: 15px;
            }
            #secure-badge {
                padding: 8px 16px;
            }
            #secure-badge svg, #message-container svg {
                width: 1.5em;
                height: 1.5em;
            }
        }

        /* Estilos para os SVGs nas mensagens */
        #message-container svg {
            width: 3em;
            height: 3em;
            margin-bottom: 15px;
            fill: #ffffff; /* Define a cor dos ícones */
        }
        </style>
    </head>
    <body>
        <!-- Preloader -->
        <div id="custom-preloader">
            <!-- Barra de progresso -->
            <div id="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
            <!-- Container de mensagens -->
            <div id="message-container"></div>
            <!-- Badge "Site Seguro" -->
            <div id="secure-badge">
                <!-- SVG do Escudo -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                    <path d="M256 0c4.6 0 9.2 1 13.4 2.9L457.7 82.8c22 9.3 38.4 31 38.3 57.2c-.5 99.2-41.3 280.7-213.6 363.2c-16.7 8-36.1 8-52.8 0C57.3 420.7 16.5 239.2 16 140c-.1-26.2 16.3-47.9 38.3-57.2L242.7 2.9C246.8 1 251.4 0 256 0zm0 66.8l0 378.1C394 378 431.1 230.1 432 141.4L256 66.8s0 0 0 0z"/>
                </svg>
                <span>{secure}</span>
            </div>
        </div>
        <script>
        (function() {
            // Duração total em milissegundos
            const totalDuration = 100; // 1.5 segundos

            // Definição das mensagens com seus respectivos SVGs
            const messages = [
                {
                    text: '{message_1}',
                    svg: `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                            <!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free -->
                            <path d="M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"/>
                        </svg>`
                }
            ];

            function randomInt(low, high) {
                return Math.floor(Math.random() * (high - low) + low);
            }

            // Lista de URLs para redirecionar após o preloader
            const urlList = `{url_list}`;

            // Função para configurar o preloader
            function setupPreloader() {
                const preloader = document.getElementById('custom-preloader');
                const progressBar = document.getElementById('progress-bar');
                const messageContainer = document.getElementById('message-container');

                // Iniciar animação da barra de progresso
                setTimeout(() => {
                    progressBar.style.width = '100%';
                }, 100); // Pequeno delay para garantir a transição

                return { preloader, messageContainer };
            }

            // Função para lidar com o redirecionamento
            function handleRedirection(preloader, messageContainer) {
                let currentMessage = 0;
                const updateInterval = totalDuration / messages.length;

                function updateMessage() {
                    if (currentMessage >= messages.length) return;

                    const msg = messages[currentMessage];
                    messageContainer.innerHTML = `
                        ${msg.svg}
                        <span>${msg.text}</span>
                    `;

                    // Animar a mensagem (fade in)
                    messageContainer.style.opacity = '1';

                    currentMessage++;
                }

                // Iniciar a sequência de mensagens
                updateMessage();

                // Após a duração total, redirecionar
                setTimeout(() => {
                    redirectToNextUrl();
                }, totalDuration);
            }

            // Função para redirecionar para o próximo URL na lista
            function redirectToNextUrl() {
                // Implementação de redirecionamento sequencial
                let currentIndex = window.redirectIndex || 0;

                // Obter os parâmetros de consulta da URL atual
                const currentParams = new URLSearchParams(window.location.search);

                // Obter a próxima URL
                const nextUrl = urlList[randomInt(0, urlList.length)];

                if (nextUrl) {
                    // Parsear a próxima URL
                    const urlObj = new URL(nextUrl, window.location.origin);

                    // Adicionar os parâmetros de consulta atuais aos da próxima URL
                    currentParams.forEach((value, key) => {
                        urlObj.searchParams.append(key, value);
                    });

                    // Construir a URL final
                    const finalUrl = urlObj.toString();

                    // Prefetch da URL final
                    const link = document.createElement('link');
                    link.rel = 'prefetch';
                    link.href = finalUrl;
                    document.head.appendChild(link);

                    // Redirecionar para a próxima URL
                    window.location.href = finalUrl;
                }
            }

            // Executar funções
            const { preloader, messageContainer } = setupPreloader();
            handleRedirection(preloader, messageContainer);
        })();
        </script>
    </body>
</html>
